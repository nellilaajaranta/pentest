# h2 Totally Legit Sertificate

Tero Karvisen [Tunkeutumistestaus 2023-kurssin](https://terokarvinen.com/2023/tunkeutumistestaus-2023-kevat/) h2-tehtäväraporttini.

## Lue ja tiivistä: PortSwigger: [SQL injection](https://portswigger.net/web-security/sql-injection), PortSwigger: [Cross-site scripting](https://portswigger.net/web-security/cross-site-scripting)

- SQL injektio on verkkohaavoittuvuus, jonka avulla hyökkääjä pääsee käsiksi sovelluksen tekemiin tietokantakyselyihin.

- Cross-site scripting (XSS) on verkkohaavoittuvuus, jonka avulla hyökkääjä pystyy syöttämään haitallista koodia sivustolle, josta kys. koodi päätyy käyttäjän selaimeen. XSS voidaan käyttää esiintymään uhri-käyttäjänä, tekemään toimintoja mitä käyttäjä pystyy, lukemaan käyttäjän tietoja, keräämään käyttäjän kirjautumustietoja, tai lisäämän verkkosivulla troijalaisen. Erityyppisiä hyökkäyksiä ovat

-  Reflected XSS, jossa haitallinen koodi tulee nykyisestä HTTP-pyynnöstä
sovellus saa dataa HTTP-pyynnöstä ja sisällyttää kys. datan vastauksessa, -> haitallinen koodi "heijastuu" kertaalleen, kun kyttäjä avaa hyökkääjän linkin
-  Stored XSS, jossa haitallinen koodi tulee sivuston tietokannasta
Sovellus saa dataa epäluotettavasta lähteestä ja ja sisällyttää kyseisen epäluotettavan datan myöhemmissä HTTP-vastauksissa.
-  DOM-based XSS, jossa haavoittuvuus sijaitsee client-puolen koodissa
JavaScript hakee dataa epäluotettavasta lähteestä, 

## a) ZAP! Asenna ZAP välimiesproxy ja näytä, että pystyt sieppaamaan liikennettä selaimesta.

Latasin Linux installerin [ZAP:in verkkosivuilta](https://www.zaproxy.org/download/)

Avasin Linuxin terminaalin ja menin cd-komennolla sijaintiin, jossa juuri lataamani ZAP-asennustiedosto (shell-script) on. Kokeilin asentaa sen seuraavalla komennolla:

`sudo ./ZAP_2_12_0_unix.sh`

Asennus ei kuitenkaan onnistunut, sillä kys. scriptillä ei ole execute-oikeuksia. Seuraava komento antaa käyttäjälle execute-oikeudet kys. scriptiin:

`chmod u+x ZAP_2_12_0_unix.sh`

Nyt scriptin ajo onnistui ja ZAP:n installer avautui. Valitsin standard-asennuksen.

![zapasennus](https://github.com/nellilaajaranta/pentest/blob/main/pictures/h2/ZAPasennus.jpg)

ZAPin kautta saa käynnistettyä Firefoxin, jolloin ZAPin kautta saa seurattua selaimen liikennettä:

![zap](https://github.com/nellilaajaranta/pentest/blob/main/pictures/h2/zapasennettu.jpg)
